{"version":3,"sources":["webpack:///webpack/bootstrap 26516bcb9c23e7b59e42","webpack:///./controllers/recipes/recipes.js","webpack:///./controllers/recipes/recipes-service.js","webpack:///./controllers/recipes/recipes-form.js","webpack:///./services/db-service/database-service.js","webpack:///./app.js","webpack:///./services/app-state-service/app-state-service.js","webpack:///./controllers/recipes/recipes-list.js","webpack:///./controllers/recipes/recipe-details.js","webpack:///./controllers/core/header.js","webpack:///./routes/router.js","webpack:///./controllers/core/sidenav.js"],"names":["init","destroyComponent","RecipesListController","RecipeDetailsController","RecipeFormController","$","load","destroyForm","saveRecipe","getRecipes","updateRecipe","deleteRecipe","onRecipesChange","DbService","allRecipes","then","data","key","currRecipe","id","push","PubSub","publish","slice","recipe","Promise","resolve","reject","writeData","response","err","savedRecipe","getData","updateData","updatedRecipe","forEach","deleteData","filter","cb","watchForDataChange","RecipesService","modeSub","mode","$recipeFormComponent","$recipeForm","$formValidator","recipeToEdit","$titleInput","$imgUrlInput","$imgPreview","$descInput","$ingrInput","$submitBtn","$cancelBtn","find","$formTitle","subscribe","msg","text","val","name","imgUrl","attr","fadeIn","description","ingredients","join","on","hide","removeForm","validator","setDefaults","submitHandler","console","log","submitAddForm","submitEditForm","validate","rules","titleInput","required","minlength","maxlength","imageUrlInput","descriptionInput","ingredientsInput","messages","ingr","split","catch","html","unsubscribe","destroy","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","dbName","dbRef","database","ref","once","snap","value","dbEntry","set","remove","AppStateService","HeaderController","DBService","SidenavController","RecipeController","recipeSelectedSub","$container","$addFormComponent","recipesHasChangedSub","recipeWasDeletedSub","recipeWasAddedSub","recipeWasUpdatedSub","$addRecipeBtn","renderRecipes","recipeId","renderRecipe","$recipe","recipeObj","el","toggleClass","siblings","removeClass","hasClass","show","$wrapper","addClass","$title","$desc","$descFrame","append","$imgUrl","$imgFrame","recipes","sort","length","compareRecipesByName","a","b","name1","toLowerCase","name2","$editFormComponent","recipeWasSelectedSub","recipeWasUnselectedSub","css","currentLoadedRecipe","showContainer","renderDetails","resetContainer","slideToggle","$imgContainer","$buttonContainer","$settingsButton","$settingsSpan","$settingsDropdown","$menuEditBtn","$menuDeleteBtn","$recipeImg","$recipeInfoContainer","$descriptionContainer","$ingredientsContainer","$list","$item","Router","routes","fadeToggle","toggle2Classes","toggleZindex","setTimeout","window","open","location","hash","fn","class1","class2","each","$elm","$this","activeRoute","getCurrentRoute","options","includes","view","substring","changeActiveButton","renderView","loadDefaultRoute","e","currentRoute","href","$button","clearSlashes","path","toString","replace","checkRoute","route","fragment","decodeURI","search"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 26516bcb9c23e7b59e42","import * as RecipesListController from './recipes-list.js';\nimport * as RecipeDetailsController from './recipe-details.js';\nimport * as RecipeFormController from './recipes-form.js';\n\nexport function init() {\n    $('.recipes-list-component').load('./views/recipes/recipes-list.html', RecipesListController.init); \n    $('.recipe-details-component').load('./views/recipes/recipe-details.html', RecipeDetailsController.init); \n}\n\nexport function destroyComponent() {\n    RecipesListController.destroyComponent();\n    RecipeDetailsController.destroyComponent();\n    RecipeFormController.destroyForm();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/recipes/recipes.js","import * as DbService from '../../services/db-service/database-service.js';\n\nexport var allRecipes = [];\n\ngetRecipes().then(function(data) {\n    for (const key in data) {\n        if (typeof data.key === 'undefined') {\n            var currRecipe = data[key];\n            currRecipe.id = key;\n            allRecipes.push(currRecipe);\n        }\n    }\n    PubSub.publish('recipes-has-changed', allRecipes.slice());\n});\n\nexport function saveRecipe(recipe) {\n    return new Promise(function(resolve, reject) {\n        DbService.writeData('recipes/', recipe, function(response, err) {\n            if (err) {\n                reject(err);\n            } else {\n                var savedRecipe = response.data;\n                savedRecipe.id = response.key;\n                allRecipes.push(savedRecipe);\n                PubSub.publish('recipe-was-added', savedRecipe);\n                resolve(savedRecipe);\n            }\n        });\n    });\n}\n\nexport function getRecipes() {\n    return new Promise(function(resolve, reject) {\n        DbService.getData('recipes/', function(data, err) {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n}\n\nexport function updateRecipe(recipe) {\n    return new Promise(function(resolve, reject) {\n        DbService.updateData('recipes/' + recipe.id, recipe, function(response, err) {\n            if (err) {\n                reject(err);\n            } else {\n                var updatedRecipe = response.data;\n                updatedRecipe.id = response.key;\n                allRecipes.forEach(function(recipe) {\n                    if (recipe.id === updatedRecipe.id) {\n                        recipe = updatedRecipe;\n                    }\n                });\n                PubSub.publish('recipe-was-updated', updatedRecipe);\n                resolve(updatedRecipe);\n            }\n        });\n    });\n}\n\nexport function deleteRecipe(id) {\n    return new Promise(function(resolve, reject) {\n        DbService.deleteData('recipes/' + id, function(data, err) {\n            if (err) {\n                reject(err);\n            } else {\n                allRecipes = allRecipes.filter(function(recipe) {\n                    if (recipe.id !== data) {\n                        return recipe;\n                    }\n                });\n                PubSub.publish('recipes-was-deleted', data);\n                resolve(`The recipe was deleted successfully!`);\n            }\n        });\n    });\n}\n\nexport function onRecipesChange(cb) {\n    DbService.watchForDataChange('recipes/', function(data, err) {\n        if (err) {\n            cb(null, err);\n        } else {\n            cb(data);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/recipes/recipes-service.js","import * as RecipesService from './recipes-service.js';\n\nvar modeSub;\nvar mode;\nvar $recipeFormComponent;\nvar $recipeForm;\nvar $formValidator;\nvar recipeToEdit;\n\nvar $titleInput;\nvar $imgUrlInput;\nvar $imgPreview;\nvar $descInput;\nvar $ingrInput;\nvar $submitBtn;\nvar $cancelBtn;\n\nexport function init() {\n\n    // domCache\n    $recipeFormComponent = $('.recipeFormComponent');\n    $recipeForm = $('#recipeForm');\n    $titleInput = $recipeFormComponent.find('#titleInput');\n    $imgUrlInput = $recipeFormComponent.find('#imageUrlInput');\n    $imgPreview = $recipeFormComponent.find('#imgPreview');\n    $descInput = $recipeFormComponent.find('#descriptionInput');\n    $ingrInput = $recipeFormComponent.find('#ingredientsInput');\n    $submitBtn = $recipeFormComponent.find('#submitBtn');\n    $cancelBtn = $recipeFormComponent.find('#cancelBtn');\n\n    var $formTitle = $('#formTitle');\n\n    modeSub = PubSub.subscribe('recipe-form-mode', function(msg, data) {\n        mode = data.mode;\n        $formTitle.text('Add Recipe');\n        if (data.recipe) {\n            recipeToEdit = data.recipe;\n            $formTitle.text('Edit Recipe');\n            $titleInput.val(recipeToEdit.name);\n            $imgUrlInput.val(recipeToEdit.imgUrl);\n            $imgPreview.attr('src', recipeToEdit.imgUrl);\n            $imgPreview.fadeIn();\n            $descInput.val(recipeToEdit.description);\n            $ingrInput.val(recipeToEdit.ingredients.join('\\n'));\n        }\n    });\n\n\n    $imgPreview.on('error', function() {\n        $(this).hide();\n    });\n\n    $('#imageUrlInput').on('input', function() {\n        $imgPreview.attr('src', $(this).val()).fadeIn();\n    });\n\n\n    $cancelBtn.on('click', function() {\n        removeForm();\n    });\n\n    $.validator.setDefaults({\n        submitHandler: function() {\n            if (mode === 'add') {\n                console.log('recipe added');\n                submitAddForm();\n            } else if (mode === 'edit') {\n                submitEditForm();\n            }\n\n            removeForm();\n        }\n    });\n\n    $formValidator = $recipeForm.validate({\n        rules: {\n            titleInput: {\n                required: true,\n                minlength: 3,\n                maxlength: 35,\n            },\n            imageUrlInput: {\n                required: true,\n            },\n            descriptionInput: {\n                required: true,\n                minlength: 5,\n            },\n            ingredientsInput: {\n                required: true,\n            },\n        },\n        messages: {\n            titleInput: {\n                required: 'The field is required!',\n                minlength: 'The title is too short',\n                maxlength: 'The title is too long',\n            },\n            imageUrlInput: {\n                required: 'The field is required.',\n            },\n            descriptionInput: {\n                required: 'The field is required',\n                minlength: 'The description is too short',\n            },\n            ingredientsInput: {\n                required: 'The field is required',\n            },\n        }\n    });\n\n}\n\nfunction submitAddForm() {\n    var ingr = $ingrInput.val().split('\\n');\n\n    RecipesService.saveRecipe({\n        name: $titleInput.val(),\n        imgUrl: $imgUrlInput.val(),\n        description: $descInput.val(),\n        ingredients: ingr,\n    }).then(function(savedRecipe) {\n\n    }).catch(function(err) {\n        console.log(err);\n    });\n}\n\nfunction submitEditForm() {\n    var ingr = $ingrInput.val().split('\\n');\n\n    recipeToEdit.name = $titleInput.val();\n    recipeToEdit.imgUrl = $imgUrlInput.val();\n    recipeToEdit.description = $descInput.val();\n    recipeToEdit.ingredients = ingr;\n\n    RecipesService.updateRecipe(recipeToEdit).then(function(updatedRecipe) {\n\n    }).catch(function(err) {\n        console.log(err);\n    });\n\n}\n\nfunction removeForm() {\n    $recipeFormComponent.html('');\n    $recipeFormComponent.hide();\n    destroyForm();\n}\nexport function destroyForm() {\n    $recipeFormComponent = null;\n    mode = null;\n    PubSub.unsubscribe(modeSub);\n    if ($formValidator) {\n        $formValidator.destroy();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/recipes/recipes-form.js","// Initialize Firebase\nvar config = {\n    apiKey: \"AIzaSyCqHk8WkuwnAgCC_mimicFaBQqgwSMar3c\",\n    authDomain: \"team9-recipe-book.firebaseapp.com\",\n    databaseURL: \"https://team9-recipe-book.firebaseio.com\",\n    projectId: \"team9-recipe-book\",\n    storageBucket: \"team9-recipe-book.appspot.com\",\n    messagingSenderId: \"792166497012\"\n};\nfirebase.initializeApp(config);\n\nexport function getData(dbName, cb) {\n    var dbRef = firebase.database().ref(dbName);\n    dbRef.once('value').then(function(snap) {\n        cb(snap.val(), null);\n    }).catch(function(err) {\n        cb(null, err)\n    });\n}\n\nexport function watchForDataChange(dbName, cb) {\n    var dbRef = firebase.database().ref(dbName);\n    dbRef.on('value', function(snap) {\n        console.log(snap.val(), 'CHANGE WATCHER');\n        cb(snap.val(), null);\n    });\n}\n\nexport function writeData(dbName, value, cb) {\n    var dbRef = firebase.database().ref(dbName);\n    var dbEntry = dbRef.push();\n    dbEntry.set(value).then(function () {\n        dbEntry.once('value').then(function (snap) {\n            var data = snap.val();\n            cb({\n                data: data,\n                key: dbEntry.key\n            });\n        });\n    }).catch(function (err) {\n        cb(null, err);\n    });\n}\n\nexport function updateData(dbName, value, cb) {\n    var dbRef = firebase.database().ref(dbName);\n    dbRef.set(value).then(function () {\n        dbRef.once('value').then(function (snap) {\n            var data = snap.val();\n            cb({\n                data: data,\n                key: dbRef.key\n            });\n        });\n    }).catch(function (err) {\n        cb(null, err);\n    });\n}\n\nexport function deleteData(dbName, cb) {\n    var dbRef = firebase.database().ref(dbName);\n    dbRef.remove().then(function() {\n        cb(dbRef.key, null);\n    }).catch(function(err) {\n        cb(err);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./services/db-service/database-service.js","import * as AppStateService from './services/app-state-service/app-state-service.js';\nimport * as HeaderController from './controllers/core/header.js';\nimport * as DBService from './services/db-service/database-service.js';\nimport * as SidenavController from './controllers/core/sidenav.js';\n\n\n$(function () {\n    AppStateService.init();\n    $('header').load('./views/core/header.html', HeaderController.init);\n    $('.sidenav-container').load('./views/core/sidenav.html', SidenavController.init);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./app.js","import * as RecipeController from '../../controllers/recipes/recipes.js';\n\nexport function init() {\n    var recipeSelectedSub = PubSub.subscribe('recipe-was-unloaded', function () {\n        console.log('recipe destroyed');\n        RecipeController.destroyComponent();\n    });\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./services/app-state-service/app-state-service.js","import * as RecipesService from './recipes-service.js';\nimport * as RecipeFormController from './recipes-form.js';\n//domCashe\nvar $container;\nvar $addFormComponent;\nvar recipesHasChangedSub;\nvar recipeWasDeletedSub;\nvar recipeWasAddedSub;\nvar recipeWasUpdatedSub;\n\nexport function init() {\n\n    $container = $('.recipes-list-container');\n\n    $addFormComponent = $('#addFormComponent');\n    $addFormComponent.hide();\n    var $addRecipeBtn = $('#addRecipe');\n\n    var allRecipes = RecipesService.allRecipes;\n    renderRecipes(allRecipes, true);\n\n    recipesHasChangedSub = PubSub.subscribe('recipes-has-changed', function(msg, data) {\n        allRecipes = data;\n        $container.html('');\n        renderRecipes(data, true);\n    });\n\n    recipeWasDeletedSub = PubSub.subscribe('recipes-was-deleted', function(msg, recipeId) {\n        allRecipes = allRecipes.filter(function(recipe) {\n            if (recipe.id !== recipeId) {\n                return recipe;\n            }\n        });\n        $container.find(`.foodBox[data-id=${recipeId}]`).remove();\n    });\n\n    recipeWasAddedSub = PubSub.subscribe('recipe-was-added', function(msg, data) {\n        var recipe = data;\n        allRecipes.push(recipe);\n        renderRecipe(recipe);\n    });\n\n    recipeWasUpdatedSub = PubSub.subscribe('recipe-was-updated', function(msg, data) {\n        $container.html('');\n        renderRecipes(allRecipes);\n    });\n\n\n    $container.on('click', '.foodBox', function () {\n        var $recipe = $(this);\n        var recipeId = $(this).attr('data-id');\n        var recipeObj = allRecipes.find(function(el) {\n            if (el.id === recipeId) {\n                return el;\n            }\n        });\n\n        $recipe.toggleClass('active').siblings().removeClass('active');\n\n        if ($recipe.hasClass('active')) {\n            PubSub.publish('recipe-was-selected', recipeObj);\n        } else {\n            PubSub.publish('recipe-was-unselected', recipeObj);\n        }\n    });\n\n    $addRecipeBtn.on('click', function() {\n        $addFormComponent.show();\n        $addFormComponent.load('./views/recipes/recipes-form.html', function() {\n            RecipeFormController.init();\n            PubSub.publish('recipe-form-mode', {\n                mode: 'add'\n            });\n        });\n    });\n\n}\n\nfunction renderRecipe(recipe) {\n\n    // TODO check for recipe name, description, imgUrl\n    // testing\n    if (recipe) {\n        var $wrapper = $('<div>');\n        $wrapper.attr('data-id', recipe.id);\n        $wrapper.addClass('foodBox');\n        var $title = $('<h3>');\n        var $desc = $('<p>');\n        // ------------------------------------\n        var $descFrame = $('<div>');\n        $descFrame.append($title);\n        $descFrame.append($desc);\n        $descFrame.addClass('texts');\n        // ------------------------------------\n        var $imgUrl = $('<img>');\n        // ------------------------------------ \n        var $imgFrame = $('<div>');\n        $imgFrame.append($imgUrl);\n        $imgFrame.addClass('image');\n        // ------------------------------------\n\n        $title.text(recipe.name);\n        $desc.text(recipe.description);\n        $imgUrl.attr('src', recipe.imgUrl);\n        // ------------------------------------\n        $wrapper.append($descFrame);\n        $wrapper.append($imgFrame);\n        // ------------------------------------\n\n        $container.append($wrapper);\n    } else {\n        return;\n    }\n\n}\n\nfunction renderRecipes(recipes, sort) {\n    if (recipes.length > 0) {\n        if (sort) {\n            recipes.sort(compareRecipesByName);\n        }\n        recipes.forEach(function(recipe) {\n            renderRecipe(recipe);\n        });\n    } else {\n        return;\n    }\n}\n\nfunction compareRecipesByName(a, b) {\n    var name1 = a.name.toLowerCase();\n    var name2 = b.name.toLowerCase();\n\n    if (name1 < name2) {\n        return -1;\n    }\n    if (name1 > name2) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function destroyComponent() {\n    $container = null;\n    PubSub.unsubscribe(recipesHasChangedSub);\n    PubSub.unsubscribe(recipeWasDeletedSub);\n    PubSub.unsubscribe(recipeWasAddedSub);\n    PubSub.unsubscribe(recipeWasUpdatedSub);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/recipes/recipes-list.js","import * as RecipesService from './recipes-service.js';\nimport * as RecipeFormController from './recipes-form.js';\n\nvar $container;\nvar $editFormComponent;\nvar recipeWasSelectedSub;\nvar recipeWasUnselectedSub;\nvar recipeWasUpdatedSub;\n\nexport function init() {\n\n    $container = $('.recipe-desc');\n    $container.css('display', 'none');\n    $editFormComponent = $('#editFormComponent');\n    $editFormComponent.hide();\n    var currentLoadedRecipe;\n\n    recipeWasSelectedSub = PubSub.subscribe('recipe-was-selected', function(msg, data) {\n        console.log('selected');\n        showContainer();\n        currentLoadedRecipe = data;\n        renderDetails(data);\n    });\n\n    recipeWasUnselectedSub = PubSub.subscribe('recipe-was-unselected', function(msg, data) {\n        console.log('unselected');\n        resetContainer();\n        currentLoadedRecipe = null;\n    });\n\n    recipeWasUpdatedSub = PubSub.subscribe('recipe-was-updated', function(msg, data) {\n        renderDetails(data);\n    });\n\n    $container.on('click', '#settingsButton, .dropdownMenu li', function() {\n        $container.find('.dropdownMenu').slideToggle(200);\n        $container.find('.icon-gear').toggleClass('down');\n    });\n\n\n    $container.on('click', '#editRecipeBtn', function() {\n        $editFormComponent.load('./views/recipes/recipes-form.html', function () {\n            RecipeFormController.init();\n            $editFormComponent.show();\n            PubSub.publish('recipe-form-mode', {mode: 'edit', recipe: currentLoadedRecipe});\n        });\n    });\n\n\n    $container.on('click', '#deleteRecipeBtn', function() {\n        RecipesService.deleteRecipe(currentLoadedRecipe.id).then(function(msg) {\n            console.log(msg);\n            resetContainer();\n        }).catch(function(err) {\n            console.log(err);\n        });\n    });\n\n}\n\nfunction renderDetails(recipe) {\n    //clear current loaded recipe\n    $container.html('');\n\n    var $imgContainer = $('<div>');\n    $imgContainer.addClass('recipe-image');\n\n    var $buttonContainer = $('<div>');\n    $buttonContainer.addClass('settingsContainer');\n\n    var $settingsButton = $('<a>');\n    $settingsButton.addClass('icon-btn');\n    $settingsButton.attr('id', 'settingsButton');\n    var $settingsSpan = $('<span>');\n    $settingsButton.append($settingsSpan);\n    $settingsSpan.addClass('icon icon-gear rotate');\n    $buttonContainer.append($settingsButton);\n\n    var $settingsDropdown = $('<ul>');\n    $settingsDropdown.addClass('dropdownMenu')\n    var $menuEditBtn = $('<li>');\n    $menuEditBtn.addClass('item');\n    $menuEditBtn.attr('id', 'editRecipeBtn');\n    $menuEditBtn.text('Edit');\n    var $menuDeleteBtn = $('<li>');\n    $menuDeleteBtn.addClass('item');\n    $menuDeleteBtn.attr('id', 'deleteRecipeBtn');\n    $menuDeleteBtn.text('Delete');\n    $settingsDropdown.append($menuEditBtn);\n    $settingsDropdown.append($menuDeleteBtn);\n    $buttonContainer.append($settingsDropdown);\n\n    var $recipeImg = $('<img>');\n    $recipeImg.attr('src', recipe.imgUrl);\n\n    $imgContainer.append($buttonContainer);\n    $imgContainer.append($recipeImg);\n\n    var $recipeInfoContainer = $('<div>');\n    $recipeInfoContainer.addClass('recipe-info');\n    var $title = $('<div>');\n    $title.addClass('title');\n    $title.html(`<h3>${recipe.name}</h3>`);\n\n    var $descriptionContainer = $('<div>');\n    $descriptionContainer.addClass('description');\n    $descriptionContainer.text(recipe.description);\n\n\n    var $ingredientsContainer = $('<div>');\n    $ingredientsContainer.addClass('ingredients');\n    $ingredientsContainer.html(`<p>Ingredients:</p>`);\n    var $list = $('<ul>');\n    $list.addClass('list');\n    recipe.ingredients.forEach(ingr => {\n        var $item = $('<li>');\n        $item.addClass('item');\n        $item.text(ingr);\n        $list.append($item);\n    });\n    $ingredientsContainer.append($list);\n\n    $recipeInfoContainer.append($title);\n    $recipeInfoContainer.append($descriptionContainer);\n    $recipeInfoContainer.append($ingredientsContainer);\n\n\n    $container.append($imgContainer);\n    $container.append($recipeInfoContainer);\n\n}\n\nfunction showContainer() {\n    $container.css('display', 'flex');\n    $container.html('');\n}\n\nfunction resetContainer() {\n    $container.css('display', 'none');\n    $container.html('');\n}\n\nexport function destroyComponent() {\n    $container = null;\n    PubSub.unsubscribe(recipeWasSelectedSub);\n    PubSub.unsubscribe(recipeWasUnselectedSub);\n    PubSub.unsubscribe(recipeWasUpdatedSub);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/recipes/recipe-details.js","import * as RecipeController from '../recipes/recipes.js';\nimport * as Router from '../../routes/router.js';\n\n\nexport function init() {\n    Router.init({\n        routes: ['/', '#home', '#recipes']\n    });\n\n    $('#navHamburger').on('click', function() {\n        $(this).toggleClass('active');\n        $('.shadow').fadeToggle();\n        $('.sidenav .list').toggle2Classes('slide-in', 'slide-out');\n\n        if (($('.sidenav-component').css(\"z-index\") === \"-1\")) {\n            $('.sidenav-component').toggleZindex();\n        } else {\n            setTimeout(function() {\n                $('.sidenav-component').toggleZindex();\n            }, 500);\n        }\n    });\n\n\n    $('#git-btn').on('click', function() {\n        window.open('https://github.com/bpopnikolov/Team9-JSAlpha', '_blank');\n    });\n\n    $('.git-logo').attr('src', '../../assets/images/GitHub-Mark-32px.png');\n\n    $('.logo').on('click', function() {\n        window.location.hash = '#home';\n    });\n\n    $('#home-btn').on('click', function() {\n        window.location.hash = '#home';\n    });\n\n    $('#recipes-btn').on('click', function() {\n        window.location.hash = '#recipes';\n    });\n\n}\n\n$.fn.toggle2Classes = function(class1, class2) {\n    if (!class1 || !class2) {\n        return this;\n    }\n    return this.each(function() {\n        var $elm = $(this);\n\n        if ($elm.hasClass(class1) || $elm.hasClass(class2)) {\n            $elm.toggleClass(class1 + ' ' + class2);\n        } else {\n            $elm.addClass(class1);\n        }\n    });\n};\n\n$.fn.toggleZindex = function() {\n    var $this = $(this);\n    if ($this.css(\"z-index\") === \"-1\") {\n        $this.css(\"z-index\", \"100\")\n    } else {\n        $this.css(\"z-index\", \"-1\")\n    }\n    return this;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/core/header.js","import * as RecipeController from '../controllers/recipes/recipes.js';\n\nvar routes = [];\nvar activeRoute = getCurrentRoute();\n\nexport function init(options) {\n    var routes = options.routes;\n\n    // if route is '/'  load home.html\n    if (!location.hash) {\n        location.hash = routes[1];\n        $('.app-container').load(`../views/core/home.html`);\n    }\n\n    if (window.location.hash) {\n        if (routes.includes(activeRoute) || activeRoute === '') {\n            var view = activeRoute.substring(1);\n            changeActiveButton(view);\n\n            // load current view html into app-container\n            renderView(view);\n        } else {\n\n            loadDefaultRoute();\n        }\n    }\n\n\n    $(window).on('hashchange', function(e) {\n        var currentRoute = getCurrentRoute();\n        var view = currentRoute.substring(1);\n        console.log(view);\n        if (routes.includes(currentRoute)) {\n            console.log('has route change');\n            if (currentRoute !== activeRoute) {\n                changeActiveButton(view);\n\n                // load current view into app-container\n                renderView(view);\n            }\n        } else {\n\n            loadDefaultRoute();\n            location.href = \"#page-not-found\";\n        }\n        activeRoute = currentRoute;\n    });\n}\n\n\n\nfunction changeActiveButton(view) {\n    $('.list .active').removeClass('active');\n    var $button = $(`#${view}-btn`);\n    $button.addClass('active');\n}\n\nfunction clearSlashes(path) {\n    return path.toString().replace(/\\/$/, '').replace(/^\\//, '');\n}\n\nfunction checkRoute(route) {\n    var fragment = route || getCurrentRoute();\n\n    if (routes.includes(fragment)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction getCurrentRoute() {\n    return clearSlashes(decodeURI(location.hash + location.search));\n}\n\nfunction renderView(view) {\n    if (activeRoute === '#recipes') {\n        PubSub.publish('recipe-was-unloaded');\n    }\n    if (view === 'home') {\n        $('.app-container').load(`../../views/core/${view}.html`);\n    } else if (view === 'recipes') {\n        $('.app-container').load(`../../views/recipes/${view}.html`, RecipeController.init);\n    }\n}\n\nfunction loadDefaultRoute() {\n    if (activeRoute === '#recipes') {\n        PubSub.publish('recipe-was-unloaded');\n    }\n    $('.app-container').load(`../../views/core/page-not-found.html`);\n    $('.list .active').removeClass('active');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/router.js","export function init() {\n    $('.sidenav a, .shadow').on('click', function() {\n        $('#navHamburger').toggleClass('active');\n        $('.shadow').fadeToggle();\n        $('.sidenav .list').toggle2Classes('slide-in', 'slide-out');\n\n        if (($('.sidenav-component').css(\"z-index\") === \"-1\")) {\n            $('.sidenav-component').toggleZindex();\n        } else {\n            setTimeout(function() {\n                $('.sidenav-component').toggleZindex();\n            }, 500);\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./controllers/core/sidenav.js"],"sourceRoot":""}